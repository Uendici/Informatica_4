// gestione dei personaggi

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
// simulazione pescata di un gacha (gambling)
void gacha();

int main() {
    // probabilit√† di uscita e la pesca effettiva
    int scelta1;
    printf(" -------------------------\n");
    printf("|                         |\n");
    printf("|  1)percentuali di uscita|\n");
    printf("|  2)pesca                |\n");
    printf("|                         |\n");
    printf(" -------------------------\n");
    scanf("%d", &scelta1);
    // trovabili: r=rari; sr=super rari; ssr= super super rari; ur= ultra rari
    if (scelta1 == 1) {
        printf(" -------------------------\n");
        printf("|   r       50%%           |\n");
        printf("|   sr      34.9%%         |\n");
        printf("|   ssr     10%%           |\n");
        printf("|   ur      4.9%%          |\n");
        printf(" -------------------------\n");
    } else if (scelta1 == 2) {
        gacha();
    } else {
        printf("devi scegliere tra 1 e 2!\n");
    }

    return 0;
}
//pescata effettiva
void gacha() {
    char yn;

    srand(time(NULL));
    printf("Sei sicuro di voler pescare?\n y/n\n");
    scanf(" %c", &yn);  
    if (yn == 'y' || yn == 'Y') {
        for (int i = 0; i < 11; i++) {
            int numeri_casuali = (rand() % 1000) + 1;
            if (numeri_casuali <= 500) {
                printf("Hai trovato un r:");
                if(numeri_casuali <= 50){
                    printf("Valhalla\n");
                }
                else{
                    if(numeri_casuali >=51 && numeri_casuali <=100){
                        printf("Vaid\n");
                    }else{
                        if(numeri_casuali >=101 && numeri_casuali <= 200){
                            printf("Lione\n");
                        }else{
                            if(numeri_casuali >= 201 && numeri_casuali <=300){
                                printf("Aristela\n");
                            }else{
                                if(numeri_casuali >= 301 && numeri_casuali <= 400){
                                    printf("Rem (GS)\n");
                                }
                            }
                        }
                    }
                }
            } else if (numeri_casuali <= 850) {
                printf("Hai trovato un sr\n");
            } else if (numeri_casuali <= 950) {
                printf("Hai trovato un ssr!\n");
            } else {
                printf("HAI TROVATO UN UR!!\n");
            }
        }
    } else if (yn == 'n' || yn == 'N') {
        printf("Ok\n");
    } else {
        printf("Scelta non valida.\n");
    }
}
